(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{53:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),o=a(25),l=a.n(o),i=(a(53),a(19)),s=a(10),r=a(88),b=a(32),u=b.a.initializeApp({apiKey:"AIzaSyB4alRRpa9ijM4hEhBgRGirLRzweYIoaIs",authDomain:"blog-app-4233f.firebaseapp.com",projectId:"blog-app-4233f",storageBucket:"blog-app-4233f.appspot.com",messagingSenderId:"402802890090",appId:"1:402802890090:web:d5c9a61d823f7484e08113"}).firestore(),d=b.a.auth(),j=(new b.a.auth.GoogleAuthProvider,u),g=a(30),h=Object(g.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),p=h.actions,m=p.login,O=p.logout,f=function(e){return e.user.user},x=h.reducer,v=a(12),_=(a(89),a(63),a(4)),y=a(29),N=Object(g.b)({name:"blog",initialState:{blogId:null,blogTitle:null,blogContent:null,blogAuthor:null},reducers:{setBlog:function(e,t){e.blogId=t.payload.blogId,e.blogTitle=t.payload.blogTitle,e.blogContent=t.payload.blogContent,e.blogAuthor=t.payload.blogAuthor,e.blogTimestamp=t.payload.blogTimestamp}}}),B=N.actions.setBlog,I=function(e){return e.blog.blogId},S=function(e){return e.blog.blogTitle},w=function(e){return e.blog.blogContent},A=function(e){return e.blog.blogAuthor},C=N.reducer,T=(a(68),function(e){var t,a=e.id,c=e.title,n=e.content,o=e.timestamp,l=(e.thumbnailUrl,e.username),r=Object(v.b)(),b=Object(s.f)();return Object(_.jsx)("div",{className:"blog",onClick:function(){r(B({blogTitle:c,blogContent:n,blogAuthor:l,blogId:a})),b.push("/".concat(a,"/read"))},children:Object(_.jsxs)("div",{className:"blog__content",children:[Object(_.jsx)("h3",{className:"blog___title",children:c}),Object(_.jsx)("p",{className:"blog__timestamp",children:o}),Object(_.jsx)("h5",{className:"blog__summary",children:(t=n,t.length>10?t.substring(0,75)+"...":t)}),Object(_.jsx)(i.b,{className:"blog__readMore",children:"Read More..."}),Object(_.jsxs)("p",{className:"blog__author",children:["Blog By ",l]})]})})}),k=(a(69),function(){var e=Object(v.c)(f),t=Object(c.useState)([]),a=Object(y.a)(t,2),n=a[0],o=a[1];return Object(c.useEffect)((function(){j.collection("blogs").orderBy("timestamp","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(_.jsxs)("div",{className:"blogs",children:[e&&Object(_.jsx)(i.b,{to:"/addBlog",children:Object(_.jsx)(r.a,{variant:"contained",color:"primary",startIcon:Object(_.jsx)("i",{class:"fas fa-plus"}),children:"Add Blog"})}),Object(_.jsx)("div",{className:"blogs__blogsList",children:n.map((function(e){return Object(_.jsx)(T,{id:e.id,title:e.data.title,content:e.data.content,username:e.data.username},e.id)}))})]})}),D=(a(70),function(){var e=Object(c.useState)(""),t=Object(y.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(""),l=Object(y.a)(o,2),i=l[0],u=l[1],d=Object(v.c)(f),g=Object(s.f)();return Object(_.jsx)("div",{className:"addBlog",children:Object(_.jsxs)("form",{children:[Object(_.jsxs)("div",{className:"addBlog__details",children:[Object(_.jsx)("h3",{children:"Blog Title"}),Object(_.jsx)("input",{value:a,onChange:function(e){return n(e.target.value)},type:"text"}),Object(_.jsx)("h3",{children:"Blog Content"}),Object(_.jsx)("textarea",{value:i,onChange:function(e){return u(e.target.value)},type:"text"})]}),Object(_.jsx)(r.a,{variant:"contained",type:"submit",color:"primary",onClick:function(e){e.preventDefault(),j.collection("blogs").add({title:a,content:i,username:d.displayName,timestamp:b.a.firestore.FieldValue.serverTimestamp()}),g.push("/")},startIcon:Object(_.jsx)("i",{class:"fas fa-check"}),children:"Submit"})]})})}),R=(a(71),a(72),function(e){e.id;var t=e.title,a=e.content,n=e.thumbnailUrl,o=e.author,l=Object(c.useState)(""),i=Object(y.a)(l,2);i[0],i[1],Object(v.c)(f);return Object(c.useEffect)((function(){}),[]),Object(_.jsxs)("div",{className:"blogDisplay",children:[Object(_.jsx)("h2",{className:"blogDisplay__title",children:t}),Object(_.jsxs)("span",{className:"blogDisplay__author",children:["Author: ",o]}),Object(_.jsx)("img",{className:"blogDisplay__thumbnail",src:n,alt:""}),Object(_.jsx)("p",{className:"blogDisplay__content",children:a}),Object(_.jsx)("hr",{})]})});var E=function(){var e=Object(v.b)(),t=Object(v.c)(I),a=Object(v.c)(S),n=Object(v.c)(w),o=Object(v.c)(A);return Object(c.useEffect)((function(){d.onAuthStateChanged((function(t){e(t?m({uid:t.uid,photo:t.photoURL,email:t.email,displayName:t.displayName}):O())}))}),[]),Object(_.jsx)(i.a,{children:Object(_.jsx)("div",{className:"app",children:Object(_.jsxs)(s.c,{children:[Object(_.jsx)(s.a,{path:"/".concat(t,"/read"),children:Object(_.jsx)(R,{id:t,title:a,content:n,author:o})}),Object(_.jsx)(s.a,{path:"/addBlog",children:Object(_.jsx)(D,{})}),Object(_.jsx)(s.a,{exact:!0,path:"/",children:Object(_.jsx)("div",{className:"app__page",children:Object(_.jsx)(k,{})})})]})})})},M=Object(g.a)({reducer:{user:x,blog:C}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(v.a,{store:M,children:Object(_.jsx)(E,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.4f81fdbe.chunk.js.map