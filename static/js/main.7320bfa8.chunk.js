(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{53:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(25),o=a.n(s),l=(a(53),a(19)),i=a(10),r=a(88),b=a(32),j=b.a.initializeApp({apiKey:"AIzaSyB4alRRpa9ijM4hEhBgRGirLRzweYIoaIs",authDomain:"blog-app-4233f.firebaseapp.com",projectId:"blog-app-4233f",storageBucket:"blog-app-4233f.appspot.com",messagingSenderId:"402802890090",appId:"1:402802890090:web:d5c9a61d823f7484e08113"}).firestore(),d=b.a.auth(),u=new b.a.auth.GoogleAuthProvider,h=j,g=a(30),O=Object(g.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),p=O.actions,m=p.login,f=p.logout,x=function(e){return e.user.user},v=O.reducer,_=a(12),N=a(89),y=(a(63),a(4)),B=function(){var e=Object(_.c)(x);return Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("div",{className:"header__left",children:Object(y.jsx)(l.b,{to:"/",children:"Blog App"})}),e?Object(y.jsx)("div",{className:"header__right",children:Object(y.jsxs)("div",{className:"header__icons",children:[Object(y.jsxs)(l.b,{to:"/",children:[Object(y.jsx)("i",{className:"fas fa-home"})," "]})," ",Object(y.jsxs)(l.b,{to:"#search",children:[Object(y.jsx)("i",{className:"fas fa-search"})," "]})," ",Object(y.jsxs)(l.b,{to:"#notifications",children:[Object(y.jsx)("i",{className:"fas fa-bell"})," "]}),Object(y.jsx)(l.b,{children:Object(y.jsx)("i",{onClick:function(){d.signOut()},class:"fas fa-power-off",alt:"Sign Out"})}),Object(y.jsx)(N.a,{className:"header__avatar",src:e.photo})]})}):Object(y.jsx)(r.a,{onClick:function(){d.signInWithPopup(u).catch((function(e){return alert(e.message)}))},variant:"contained",color:"primary",children:"Sign In"})]})},I=a(29),S=Object(g.b)({name:"blog",initialState:{blogId:null,blogTitle:null,blogContent:null,blogAuthor:null},reducers:{setBlog:function(e,t){e.blogId=t.payload.blogId,e.blogTitle=t.payload.blogTitle,e.blogContent=t.payload.blogContent,e.blogAuthor=t.payload.blogAuthor,e.blogTimestamp=t.payload.blogTimestamp}}}),C=S.actions.setBlog,w=function(e){return e.blog.blogId},A=function(e){return e.blog.blogTitle},k=function(e){return e.blog.blogContent},T=function(e){return e.blog.blogAuthor},D=S.reducer,R=(a(68),function(e){var t,a=e.id,c=e.title,n=e.content,s=e.timestamp,o=(e.thumbnailUrl,e.username),r=Object(_.b)(),b=Object(i.f)();return Object(y.jsx)("div",{className:"blog",onClick:function(){r(C({blogTitle:c,blogContent:n,blogAuthor:o,blogId:a})),b.push("/".concat(a,"/read"))},children:Object(y.jsxs)("div",{className:"blog__content",children:[Object(y.jsx)("h3",{className:"blog___title",children:c}),Object(y.jsx)("p",{className:"blog__timestamp",children:s}),Object(y.jsx)("h5",{className:"blog__summary",children:(t=n,t.length>10?t.substring(0,75)+"...":t)}),Object(y.jsx)(l.b,{className:"blog__readMore",children:"Read More..."}),Object(y.jsxs)("p",{className:"blog__author",children:["Blog By ",o]})]})})}),E=(a(69),function(){var e=Object(_.c)(x),t=Object(c.useState)([]),a=Object(I.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){h.collection("blogs").orderBy("timestamp","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(y.jsxs)("div",{className:"blogs",children:[e&&Object(y.jsx)(l.b,{to:"/addBlog",children:Object(y.jsx)(r.a,{variant:"contained",color:"primary",startIcon:Object(y.jsx)("i",{class:"fas fa-plus"}),children:"Add Blog"})}),Object(y.jsx)("div",{className:"blogs__blogsList",children:n.map((function(e){return Object(y.jsx)(R,{id:e.id,title:e.data.title,content:e.data.content,username:e.data.username},e.id)}))})]})}),M=(a(70),function(){var e=Object(c.useState)(""),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(I.a)(s,2),l=o[0],j=o[1],d=Object(_.c)(x),u=Object(i.f)();return Object(y.jsx)("div",{className:"addBlog",children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"addBlog__details",children:[Object(y.jsx)("h3",{children:"Blog Title"}),Object(y.jsx)("input",{value:a,onChange:function(e){return n(e.target.value)},type:"text"}),Object(y.jsx)("h3",{children:"Blog Content"}),Object(y.jsx)("textarea",{value:l,onChange:function(e){return j(e.target.value)},type:"text"})]}),Object(y.jsx)(r.a,{variant:"contained",type:"submit",color:"primary",onClick:function(e){e.preventDefault(),h.collection("blogs").add({title:a,content:l,username:d.displayName,timestamp:b.a.firestore.FieldValue.serverTimestamp()}),u.push("/")},startIcon:Object(y.jsx)("i",{class:"fas fa-check"}),children:"Submit"})]})})}),z=(a(71),a(72),function(e){e.id;var t=e.title,a=e.content,n=e.thumbnailUrl,s=e.author,o=Object(c.useState)(""),l=Object(I.a)(o,2);l[0],l[1],Object(_.c)(x);return Object(c.useEffect)((function(){}),[]),Object(y.jsxs)("div",{className:"blogDisplay",children:[Object(y.jsx)("h2",{className:"blogDisplay__title",children:t}),Object(y.jsxs)("span",{className:"blogDisplay__author",children:["Author: ",s]}),Object(y.jsx)("img",{className:"blogDisplay__thumbnail",src:n,alt:""}),Object(y.jsx)("p",{className:"blogDisplay__content",children:a}),Object(y.jsx)("hr",{})]})});var L=function(){var e=Object(_.b)(),t=Object(_.c)(w),a=Object(_.c)(A),n=Object(_.c)(k),s=Object(_.c)(T);return Object(c.useEffect)((function(){d.onAuthStateChanged((function(t){e(t?m({uid:t.uid,photo:t.photoURL,email:t.email,displayName:t.displayName}):f())}))}),[]),Object(y.jsx)(l.a,{children:Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(B,{}),Object(y.jsxs)(i.c,{children:[Object(y.jsx)(i.a,{path:"/".concat(t,"/read"),children:Object(y.jsx)(z,{id:t,title:a,content:n,author:s})}),Object(y.jsx)(i.a,{path:"/addBlog",children:Object(y.jsx)(M,{})}),Object(y.jsx)(i.a,{exact:!0,path:"/",children:Object(y.jsx)("div",{className:"app__page",children:Object(y.jsx)(E,{})})})]})]})})},U=Object(g.a)({reducer:{user:v,blog:D}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(_.a,{store:U,children:Object(y.jsx)(L,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.7320bfa8.chunk.js.map